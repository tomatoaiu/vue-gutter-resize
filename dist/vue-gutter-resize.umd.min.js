!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueGutterResize={})}(this,function(e){"use strict";var t={props:{width:{type:String,required:!0,default:"500px"},height:{type:String,required:!0,default:"500px"},gutterSize:{type:String},gutterSizes:{type:Array},color:{type:String},colors:{type:Array}},data:function(){return{target:void 0,areaSize:[],gutterComponent:{width:0,height:0,offsetX:0,offsetY:0}}},created:function(){this.divideArea()},mounted:function(){this.setPlaygroundRect()},methods:{isArrayContains:function(e){return e&&e.length&&0<e.length},draggingGutter:function(e,t,n,i){var r=this.getGutterSum(n,this.gutterSize,this.gutterSizes);if(this.isDraggingGutter(e)){var s=(t+r)/i*100;if(this.isGutterInRange(s)){for(var o=0,a=0;a<n;a++)o+=this.areaSize[a];var l=this.areaSize[n]+this.areaSize[n+1];0<=s-o&&0<=o+l-s&&(this.areaSize.splice(n,1,s-o),this.areaSize.splice(n+1,1,o+l-s))}}},specifyDivideArea:function(e){var n=this,i=e.reduce(function(e,t){return e+t});if(100<i)throw console.error("Please total area size is 100 or less.");e.forEach(function(e){var t=100/i;n.areaSize.push(e*t)})},generalDivideArea:function(){for(var e=0;e<this.row;e++)this.areaSize.push(100/this.row)},dragstart:function(e,t){this.target&&this.target.classList&&this.target.classList.remove("active"),e.target.classList.add("active"),this.target=e.target},setPlaygroundRect:function(){var e=this.$refs.gutter.getBoundingClientRect();this.gutterComponent.width=e.width,this.gutterComponent.height=e.height,this.gutterComponent.offsetX=window.pageXOffset+e.left,this.gutterComponent.offsetY=window.pageYOffset+e.top},isDraggingGutter:function(e){return e&&0<e.clientX&&0<e.clientY},isGutterInRange:function(e){return e<100&&0<e},getCurrentMousePosition:function(e){return{mouseX:e.clientX-this.gutterComponent.offsetX,mouseY:e.clientY-this.gutterComponent.offsetY}},getGutterSum:function(e,t,n){var i=0;if(this.isArrayContains(this.gutterSizes)){for(var r=0;r<e;r++)i+=0|this.gutterSizes[r].match(/-?[0-9]+\.?[0-9]*/g).pop();i+=(0|this.gutterSizes[e].match(/-?[0-9]+\.?[0-9]*/g).pop())/2}else{for(var s=0;s<e;s++)i+=0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop();i+=(0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop())/2}return i}}};var n,i,r,s,o,a=(n={},s=r=void 0,(o=("function"==typeof(i=t)?i.options:i)||{}).__file="/Users/tobashunsuke/development/vue-gutter-resize/src/mixins/gutter.vue",o.render||(o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._compiled=!0,s&&(o.functional=!0)),o._scopeId=r,o),l={name:"columnGutter",mixins:[a],props:{column:{type:Number,required:!0,default:2},columnSizes:{type:Array}},created:function(){if(this.isArrayContains(this.columnSizes)&&this.column!==this.columnSizes.length)throw console.error("Please column equal columnSizes.length\ncolumn: "+this.column+", columnSizes.length: "+this.columnSizes.length);if(this.isArrayContains(this.colors)&&this.column-1!==this.colors.length)throw console.error("Please (column - 1) equal colors.length\n(column - 1): "+(this.column-1)+", colors.length: "+this.colors.length)},methods:{divideArea:function(){this.isArrayContains(this.columnSizes)?this.specifyDivideArea(this.columnSizes):this.generalDivideArea()},drag:function(e,t){var n=this.getCurrentMousePosition(e).mouseX;this.draggingGutter(e,n,t,this.gutterComponent.width),this.$emit("resize",{col:this.areaSize})}}},u=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("section",{ref:"gutter",style:"width: "+n.width+"; height: "+n.height+";"},[i("div",{staticClass:"pane pane-v left",style:"width: calc("+n.areaSize[0]+"% - "+(n.gutterSize||n.gutterSizes[0])+");"},[n._t("col-0")],2),n._v(" "),n._l(n.column-1,function(t){return i("div",{key:t,staticClass:"afterCol",style:"width: calc("+n.areaSize[t]+"% - "+(n.gutterSize||n.gutterSizes[t-1])+");"},[i("div",{staticClass:"gutter gutter-v",style:"width: "+(n.gutterSize||n.gutterSizes[t-1])+"; height: "+n.height+"; background-color: "+(n.color||n.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){n.drag(e,t-1)},dragstart:function(e){n.dragstart(e,t-1)}}}),n._v(" "),t!==n.column-1?i("div",{staticClass:"pane pane-v",style:"width: calc(100% - "+(n.gutterSize||n.gutterSizes[t-1])},[n._t("col-"+t)],2):i("div",{staticClass:"pane pane-v",style:"width: calc(100%}"},[n._t("col-"+t)],2)])})],2)};u._withStripped=!0;var c=function(e,t,n,i,r,s,o,a){var l=("function"==typeof n?n.options:n)||{};l.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/column-gutter.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i;var u=void 0;if(t&&(u=function(e){t.call(this,o(e))}),void 0!==u)if(l.functional){var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return l}({render:u,staticRenderFns:[]},function(e){e&&e("data-v-00bb4cab_0",{source:"\n.pane-v[data-v-00bb4cab] {\n  float: left;\n  height: 100%;\n}\n.afterCol[data-v-00bb4cab] {\n  height: 100%;\n  display: inline-block;\n}\n.gutter[data-v-00bb4cab] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-00bb4cab] {\n  z-index: 1;\n}\n.gutter-v[data-v-00bb4cab] {\n  float: left;\n  width: 2px;\n  height: 100%;\n  cursor: ew-resize;\n}\n",map:{version:3,sources:["/Users/tobashunsuke/development/vue-gutter-resize/src/components/column-gutter.vue"],names:[],mappings:";AAwEA;EACA,YAAA;EACA,aAAA;CACA;AAEA;EACA,aAAA;EACA,sBAAA;CACA;AAEA;EACA,iBAAA;EACA,iBAAA;EACA,mBAAA;CACA;AAEA;EACA,WAAA;CACA;AAEA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,kBAAA;CACA",file:"column-gutter.vue",sourcesContent:['<template>\n  <section ref="gutter" :style="`width: ${width}; height: ${height};`">\n    <div\n      class="pane pane-v left" :style="`width: calc(${areaSize[0]}% - ${gutterSize || gutterSizes[0]});`">\n      <slot :name="`col-${0}`"></slot>\n    </div>\n    <div\n      v-for="n in (column - 1)" :key="n"\n      class="afterCol"\n      :style="`width: calc(${areaSize[n]}% - ${gutterSize || gutterSizes[n - 1]});`">\n      <div\n        class="gutter gutter-v" draggable="true"\n        :style="`width: ${gutterSize || gutterSizes[n - 1]}; height: ${height}; background-color: ${color || colors[n - 1]};`"\n        @drag="e => { drag(e, n - 1) }"\n        @dragstart="dragstart($event, n - 1)">\n      </div>\n      <div\n        v-if="n !== column - 1"\n        class="pane pane-v" :style="`width: calc(${100}% - ${gutterSize || gutterSizes[n - 1]}`">\n        <slot :name="`col-${n}`"></slot>\n      </div>\n      <div\n        v-else\n        class="pane pane-v" :style="`width: calc(${100}%}`">\n        <slot :name="`col-${n}`"></slot>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport gutter from \'../mixins/gutter.vue\'\n\nexport default {\n  name: \'columnGutter\',\n  mixins: [ gutter ],\n  props: {\n    column: {\n      type: Number,\n      required: true,\n      default: 2\n    },\n    columnSizes: {\n      type: Array,\n    }\n  },\n  created () {\n    if (this.isArrayContains(this.columnSizes)) {\n      if (this.column !== this.columnSizes.length) throw console.error(`Please column equal columnSizes.length\\ncolumn: ${this.column}, columnSizes.length: ${this.columnSizes.length}`)\n    }\n    if (this.isArrayContains(this.colors)) {\n      if ((this.column - 1) !== this.colors.length) throw console.error(`Please (column - 1) equal colors.length\\n(column - 1): ${this.column - 1}, colors.length: ${this.colors.length}`)\n    }\n  },\n  methods: {\n    divideArea () {\n      if (this.isArrayContains(this.columnSizes)) {\n        this.specifyDivideArea(this.columnSizes)\n      } else {\n        this.generalDivideArea()\n      }\n    },\n    drag (e, index) {\n      const { mouseX } = this.getCurrentMousePosition(e)\n      this.draggingGutter(e, mouseX, index, this.gutterComponent.width)\n      this.$emit(\'resize\', { col: this.areaSize })\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.pane-v {\n  float: left;\n  height: 100%;\n}\n\n.afterCol {\n  height: 100%;\n  display: inline-block;\n}\n\n.gutter {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n\n.active {\n  z-index: 1;\n}\n\n.gutter-v {\n  float: left;\n  width: 2px;\n  height: 100%;\n  cursor: ew-resize;\n}\n</style>\n']},media:void 0})},l,"data-v-00bb4cab",!1,0,function e(){var u=document.head||document.getElementsByTagName("head")[0],c=e.styles||(e.styles={}),h="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var n=h?t.media||"default":e,i=c[n]||(c[n]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var r=t.source,s=i.ids.length;if(i.ids.push(e),h&&(i.element=i.element||document.querySelector("style[data-group="+n+"]")),!i.element){var o=i.element=document.createElement("style");o.type="text/css",t.media&&o.setAttribute("media",t.media),h&&(o.setAttribute("data-group",n),o.setAttribute("data-next-index","0")),u.appendChild(o)}if(h&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(r),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(r),l=i.element.childNodes;l[s]&&i.element.removeChild(l[s]),l.length?i.element.insertBefore(a,l[s]):i.element.appendChild(a)}}}}}),h={name:"rowGutter",mixins:[a],props:{row:{type:Number,required:!0,default:2},rowSizes:{type:Array}},created:function(){if(this.isArrayContains(this.rowSizes)&&this.row!==this.rowSizes.length)throw console.error("Please row equal rowSizes.length\nrow: "+this.row+", rowSizes.length: "+this.rowSizes.length);if(this.isArrayContains(this.colors)&&this.row-1!==this.colors.length)throw console.error("Please (row - 1) equal colors.length\n(row - 1): "+(this.row-1)+", colors.length: "+this.colors.length)},methods:{divideArea:function(){this.isArrayContains(this.rowSizes)?this.specifyDivideArea(this.rowSizes):this.generalDivideArea()},drag:function(e,t){var n=this.getCurrentMousePosition(e).mouseY;this.draggingGutter(e,n,t,this.gutterComponent.height),this.$emit("resize",{row:this.areaSize})}}},d=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("section",{ref:"gutter",style:"width: "+n.width+"; height: "+n.height+";"},[i("div",{style:"height: calc("+n.areaSize[0]+"%);"},[n._t("row-0")],2),n._v(" "),n._l(n.row-1,function(t){return i("div",{key:t,style:"height: calc("+n.areaSize[t]+"% - "+(n.gutterSize||n.gutterSizes[t-1])+");"},[i("div",{staticClass:"gutter gutter-h",style:"height: "+(n.gutterSize||n.gutterSizes[t-1])+"; width: "+n.width+"; background-color: "+(n.color||n.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){n.drag(e,t-1)},dragstart:function(e){n.dragstart(e,t-1)}}}),n._v(" "),t!==n.row-1?i("div",{staticClass:"pane pane-h",style:"height: calc(100% - "+(n.gutterSize||n.gutterSizes[t-1])+");"},[n._t("row-"+t)],2):i("div",{staticClass:"pane pane-h",style:"height: calc(100%});"},[n._t("row-"+t)],2)])})],2)};d._withStripped=!0;var g=function(e,t,n,i,r,s,o,a){var l=("function"==typeof n?n.options:n)||{};l.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/row-gutter.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i;var u=void 0;if(t&&(u=function(e){t.call(this,o(e))}),void 0!==u)if(l.functional){var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return l}({render:d,staticRenderFns:[]},function(e){e&&e("data-v-7cac956c_0",{source:"\n.pane[data-v-7cac956c] {\n  height: 100%;\n}\n.pane-v[data-v-7cac956c] {\n  float: left;\n}\n.gutter[data-v-7cac956c] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-7cac956c] {\n  z-index: 1;\n}\n.gutter-h[data-v-7cac956c] {\n  width: 100%;\n  height: 2px;\n  cursor: ns-resize;\n}\n",map:{version:3,sources:["/Users/tobashunsuke/development/vue-gutter-resize/src/components/row-gutter.vue"],names:[],mappings:";AAuEA;EACA,aAAA;CACA;AAEA;EACA,YAAA;CACA;AAEA;EACA,iBAAA;EACA,iBAAA;EACA,mBAAA;CACA;AAEA;EACA,WAAA;CACA;AAEA;EACA,YAAA;EACA,YAAA;EACA,kBAAA;CACA",file:"row-gutter.vue",sourcesContent:['<template>\n  <section ref="gutter" :style="`width: ${width}; height: ${height};`">\n    <div\n      :style="`height: calc(${areaSize[0]}%);`">\n      <slot :name="`row-0`"></slot>\n    </div>\n    <div\n      v-for="n in (row - 1)" :key="n"\n      :style="`height: calc(${areaSize[n]}% - ${gutterSize || gutterSizes[n - 1]});`">\n      <div\n        class="gutter gutter-h" draggable="true"\n        :style="`height: ${gutterSize || gutterSizes[n - 1]}; width: ${width}; background-color: ${color || colors[n - 1]};`"\n        @drag="e => { drag(e, n - 1) }"\n        @dragstart="dragstart($event, n - 1)">\n      </div>\n      <div\n        v-if="n !== row - 1"\n        class="pane pane-h" :style="`height: calc(${100}% - ${gutterSize || gutterSizes[n - 1]});`">\n        <slot :name="`row-${n}`"></slot>\n      </div>\n      <div\n        v-else\n        class="pane pane-h" :style="`height: calc(${100}%});`">\n        <slot :name="`row-${n}`"></slot>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport gutter from \'../mixins/gutter.vue\'\n\nexport default {\n  name: \'rowGutter\',\n  mixins: [ gutter ],\n  props: {\n    row: {\n      type: Number,\n      required: true,\n      default: 2\n    },\n    rowSizes: {\n      type: Array,\n    }\n  },\n  created () {\n    if (this.isArrayContains(this.rowSizes)) {\n      if (this.row !== this.rowSizes.length) throw console.error(`Please row equal rowSizes.length\\nrow: ${this.row}, rowSizes.length: ${this.rowSizes.length}`)\n    }\n    if (this.isArrayContains(this.colors)) {\n      if ((this.row - 1) !== this.colors.length) throw console.error(`Please (row - 1) equal colors.length\\n(row - 1): ${this.row - 1}, colors.length: ${this.colors.length}`)\n    }\n  },\n  methods: {\n    divideArea () {\n      if (this.isArrayContains(this.rowSizes)) {\n        this.specifyDivideArea(this.rowSizes)\n      } else {\n        this.generalDivideArea()\n      }\n    },\n    drag (e, index) {\n      const { mouseY } = this.getCurrentMousePosition(e)\n      this.draggingGutter(e, mouseY, index, this.gutterComponent.height)\n      this.$emit(\'resize\', { row: this.areaSize })\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.pane {\n  height: 100%;\n}\n\n.pane-v {\n  float: left;\n}\n\n.gutter {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n\n.active {\n  z-index: 1;\n}\n\n.gutter-h {\n  width: 100%;\n  height: 2px;\n  cursor: ns-resize;\n}\n</style>\n']},media:void 0})},h,"data-v-7cac956c",!1,0,function e(){var u=document.head||document.getElementsByTagName("head")[0],c=e.styles||(e.styles={}),h="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var n=h?t.media||"default":e,i=c[n]||(c[n]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var r=t.source,s=i.ids.length;if(i.ids.push(e),h&&(i.element=i.element||document.querySelector("style[data-group="+n+"]")),!i.element){var o=i.element=document.createElement("style");o.type="text/css",t.media&&o.setAttribute("media",t.media),h&&(o.setAttribute("data-group",n),o.setAttribute("data-next-index","0")),u.appendChild(o)}if(h&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(r),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(r),l=i.element.childNodes;l[s]&&i.element.removeChild(l[s]),l.length?i.element.insertBefore(a,l[s]):i.element.appendChild(a)}}}}}),A={columnGutter:c,rowGutter:g};var m={install:function(t){Object.keys(A).forEach(function(e){t.component(e,A[e])})}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(m),e.columnGutter=c,e.rowGutter=g,e.default=m,Object.defineProperty(e,"__esModule",{value:!0})});
