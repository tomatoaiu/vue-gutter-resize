!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("assert")):"function"==typeof define&&define.amd?define(["exports","assert"],t):t(e.VueGutterResize={},e.assert)}(this,function(e,t){"use strict";var i={data:function(){return{target:void 0,areaSize:[],gutterComponent:{width:0,height:0,offsetX:0,offsetY:0}}},created:function(){this.divideArea()},mounted:function(){this.setPlaygroundRect()},methods:{draggingGutter:function(e,t,i,n){var r=this.getGutterSum(i,this.gutterSize,this.gutterSizes);if(this.isDraggingGutter(e)){var s=(t+r)/n*100;if(this.isGutterInRange(s)){for(var a=0,o=0;o<i;o++)a+=this.areaSize[o];var u=this.areaSize[i]+this.areaSize[i+1];0<=s-a&&0<=a+u-s&&(this.areaSize.splice(i,1,s-a),this.areaSize.splice(i+1,1,a+u-s))}}},specifyDivideArea:function(e){var i=this,n=e.reduce(function(e,t){return e+t});if(100<n)throw console.error("Please total area size is 100 or less.");e.forEach(function(e){var t=100/n;i.areaSize.push(e*t)})},generalDivideArea:function(){for(var e=0;e<this.row;e++)this.areaSize.push(100/this.row)},dragstart:function(e,t){this.target&&this.target.classList&&this.target.classList.remove("active"),e.target.classList.add("active"),this.target=e.target},setPlaygroundRect:function(){var e=this.$refs.gutter.getBoundingClientRect();this.gutterComponent.width=e.width,this.gutterComponent.height=e.height,this.gutterComponent.offsetX=window.pageXOffset+e.left,this.gutterComponent.offsetY=window.pageYOffset+e.top},isDraggingGutter:function(e){return e&&0<e.clientX&&0<e.clientY},isGutterInRange:function(e){return e<100&&0<e},getCurrentMousePosition:function(e){return{mouseX:e.clientX-this.gutterComponent.offsetX,mouseY:e.clientY-this.gutterComponent.offsetY}},getGutterSum:function(e,t,i){var n=0;if(this.gutterSizes&&this.gutterSizes.length&&0<this.gutterSizes.length){for(var r=0;r<e;r++)n+=0|this.gutterSizes[r].match(/-?[0-9]+\.?[0-9]*/g).pop();n+=(0|this.gutterSizes[e].match(/-?[0-9]+\.?[0-9]*/g).pop())/2}else{for(var s=0;s<e;s++)n+=0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop();n+=(0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop())/2}return n}}},n="undefined"!=typeof __vue_render__?{render:__vue_render__,staticRenderFns:__vue_staticRenderFns__}:{};var r,s,a,o,u,d=(r=n,s=void 0===i?{}:i,o=a=void 0,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(u=("function"==typeof s?s.options:s)||{}).__file="/Users/tobashunsuke/development/vue-gutter-resize/src/mixins/gutter.vue",u.render||(u.render=r.render,u.staticRenderFns=r.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=a,u),c={name:"columnGutter",mixins:[d],props:["width","height","gutterSize","gutterSizes","color","column","colors","columnSizes"],methods:{divideArea:function(){this.columnSizes&&this.columnSizes.length&&0<this.columnSizes.length?this.specifyDivideArea(this.columnSizes):this.generalDivideArea()},drag:function(e,t){var i=this.getCurrentMousePosition(e).mouseX;this.draggingGutter(e,i,t,this.gutterComponent.width),this.$emit("resize",{col:this.areaSize})}}},l=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("section",{ref:"gutter",style:"width: "+i.width+"; height: "+i.height+";"},[n("div",{staticClass:"pane pane-v left",style:"width: calc("+i.areaSize[0]+"% - "+(i.gutterSize||i.gutterSizes[0])+");"},[i._t("col-0")],2),i._v(" "),i._l(i.column-1,function(t){return n("div",{key:t,staticClass:"afterCol",style:"width: calc("+i.areaSize[t]+"% - "+(i.gutterSize||i.gutterSizes[t-1])+");"},[n("div",{staticClass:"gutter gutter-v",style:"width: "+(i.gutterSize||i.gutterSizes[t-1])+"; height: "+i.height+"; background-color: "+(i.color||i.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){i.drag(e,t-1)},dragstart:function(e){i.dragstart(e,t-1)}}}),i._v(" "),t!==i.column-1?n("div",{staticClass:"pane pane-v",style:"width: calc(100% - "+(i.gutterSize||i.gutterSizes[t-1])},[i._t("col-"+t)],2):n("div",{staticClass:"pane pane-v",style:"width: calc(100%}"},[i._t("col-"+t)],2)])})],2)};l._withStripped=!0;function h(){var d=document.head||document.getElementsByTagName("head")[0],c=h.styles||(h.styles={}),l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var i=l?t.media||"default":e,n=c[i]||(c[i]={ids:[],parts:[],element:void 0});if(!n.ids.includes(e)){var r=t.source,s=n.ids.length;if(n.ids.push(e),l&&(n.element=n.element||document.querySelector("style[data-group="+i+"]")),!n.element){var a=n.element=document.createElement("style");a.type="text/css",t.media&&a.setAttribute("media",t.media),l&&(a.setAttribute("data-group",i),a.setAttribute("data-next-index","0")),d.appendChild(a)}if(l&&(s=parseInt(n.element.getAttribute("data-next-index")),n.element.setAttribute("data-next-index",s+1)),n.element.styleSheet)n.parts.push(r),n.element.styleSheet.cssText=n.parts.filter(Boolean).join("\n");else{var o=document.createTextNode(r),u=n.element.childNodes;u[s]&&n.element.removeChild(u[s]),u.length?n.element.insertBefore(o,u[s]):n.element.appendChild(o)}}}}}var g=function(e,t,i,n,r,s,a,o){var u=("function"==typeof i?i.options:i)||{};u.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/column-gutter.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=n;var d=void 0;if(t&&(d=function(e){t.call(this,a(e))}),void 0!==d)if(u.functional){var c=u.render;u.render=function(e,t){return d.call(t),c(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return u}(void 0!==l?{render:l,staticRenderFns:[]}:{},function(e){e&&e("data-v-4b1f587d_0",{source:"\n.pane-v[data-v-4b1f587d] {\n  float: left;\n  height: 100%;\n}\n.afterCol[data-v-4b1f587d] {\n  height: 100%;\n  display: inline-block;\n}\n.gutter[data-v-4b1f587d] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-4b1f587d] {\n  z-index: 1;\n}\n.gutter-v[data-v-4b1f587d] {\n  float: left;\n  width: 2px;\n  height: 100%;\n  cursor: ew-resize;\n}\n",map:void 0,media:void 0})},void 0===c?{}:c,"data-v-4b1f587d",!1,0,void 0!==h?h:function(){},"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),f={name:"rowGutter",mixins:[d],props:["width","height","gutterSize","gutterSizes","color","row","colors","rowSizes"],methods:{divideArea:function(){this.rowSizes&&this.rowSizes.length&&0<this.rowSizes.length?this.specifyDivideArea(this.rowSizes):this.generalDivideArea()},drag:function(e,t){var i=this.getCurrentMousePosition(e).mouseY;this.draggingGutter(e,i,t,this.gutterComponent.height),this.$emit("resize",{row:this.areaSize})}}},v=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("section",{ref:"gutter",style:"width: "+i.width+"; height: "+i.height+";"},[n("div",{style:"height: calc("+i.areaSize[0]+"%);"},[i._t("row-0")],2),i._v(" "),i._l(i.row-1,function(t){return n("div",{key:t,style:"height: calc("+i.areaSize[t]+"% - "+(i.gutterSize||i.gutterSizes[t-1])+");"},[n("div",{staticClass:"gutter gutter-h",style:"height: "+(i.gutterSize||i.gutterSizes[t-1])+"; width: "+i.width+"; background-color: "+(i.color||i.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){i.drag(e,t-1)},dragstart:function(e){i.dragstart(e,t-1)}}}),i._v(" "),t!==i.row-1?n("div",{staticClass:"pane pane-h",style:"height: calc(100% - "+(i.gutterSize||i.gutterSizes[t-1])+");"},[i._t("row-"+t)],2):n("div",{staticClass:"pane pane-h",style:"height: calc(100%});"},[i._t("row-"+t)],2)])})],2)};v._withStripped=!0;function m(){var d=document.head||document.getElementsByTagName("head")[0],c=m.styles||(m.styles={}),l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var i=l?t.media||"default":e,n=c[i]||(c[i]={ids:[],parts:[],element:void 0});if(!n.ids.includes(e)){var r=t.source,s=n.ids.length;if(n.ids.push(e),l&&(n.element=n.element||document.querySelector("style[data-group="+i+"]")),!n.element){var a=n.element=document.createElement("style");a.type="text/css",t.media&&a.setAttribute("media",t.media),l&&(a.setAttribute("data-group",i),a.setAttribute("data-next-index","0")),d.appendChild(a)}if(l&&(s=parseInt(n.element.getAttribute("data-next-index")),n.element.setAttribute("data-next-index",s+1)),n.element.styleSheet)n.parts.push(r),n.element.styleSheet.cssText=n.parts.filter(Boolean).join("\n");else{var o=document.createTextNode(r),u=n.element.childNodes;u[s]&&n.element.removeChild(u[s]),u.length?n.element.insertBefore(o,u[s]):n.element.appendChild(o)}}}}}var p=function(e,t,i,n,r,s,a,o){var u=("function"==typeof i?i.options:i)||{};u.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/row-gutter.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=n;var d=void 0;if(t&&(d=function(e){t.call(this,a(e))}),void 0!==d)if(u.functional){var c=u.render;u.render=function(e,t){return d.call(t),c(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return u}(void 0!==v?{render:v,staticRenderFns:[]}:{},function(e){e&&e("data-v-69001e36_0",{source:"\n.pane[data-v-69001e36] {\n  height: 100%;\n}\n.pane-v[data-v-69001e36] {\n  float: left;\n}\n.gutter[data-v-69001e36] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-69001e36] {\n  z-index: 1;\n}\n.gutter-h[data-v-69001e36] {\n  width: 100%;\n  height: 2px;\n  cursor: ns-resize;\n}\n",map:void 0,media:void 0})},void 0===f?{}:f,"data-v-69001e36",!1,0,void 0!==m?m:function(){},"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),_={columnGutter:g,rowGutter:p};var S={install:function(t){Object.keys(_).forEach(function(e){t.component(e,_[e])})}};e.columnGutter=g,e.rowGutter=p,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})});
