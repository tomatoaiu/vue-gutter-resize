"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("assert");var MAX_DRAG_RANGE=100,MIN_DRAG_RANGE=0,script={data:function(){return{target:void 0,areaSize:[],gutterComponent:{width:0,height:0,offsetX:0,offsetY:0}}},created:function(){this.divideArea()},mounted:function(){this.setPlaygroundRect()},methods:{isArrayContains:function(e){return e&&e.length&&0<e.length},draggingGutter:function(e,t,r,i){var n=this.getGutterSum(r,this.gutterSize,this.gutterSizes);if(this.isDraggingGutter(e)){var s=(t+n)/i*100;if(this.isGutterInRange(s)){for(var _=0,a=0;a<r;a++)_+=this.areaSize[a];var o=this.areaSize[r]+this.areaSize[r+1];0<=s-_&&0<=_+o-s&&(this.areaSize.splice(r,1,s-_),this.areaSize.splice(r+1,1,_+o-s))}}},specifyDivideArea:function(e){var r=this,i=e.reduce(function(e,t){return e+t});if(100<i)throw console.error("Please total area size is 100 or less.");e.forEach(function(e){var t=100/i;r.areaSize.push(e*t)})},generalDivideArea:function(){for(var e=0;e<this.row;e++)this.areaSize.push(100/this.row)},dragstart:function(e,t){this.target&&this.target.classList&&this.target.classList.remove("active"),e.target.classList.add("active"),this.target=e.target},setPlaygroundRect:function(){var e=this.$refs.gutter.getBoundingClientRect();this.gutterComponent.width=e.width,this.gutterComponent.height=e.height,this.gutterComponent.offsetX=window.pageXOffset+e.left,this.gutterComponent.offsetY=window.pageYOffset+e.top},isDraggingGutter:function(e){return e&&0<e.clientX&&0<e.clientY},isGutterInRange:function(e){return e<MAX_DRAG_RANGE&&MIN_DRAG_RANGE<e},getCurrentMousePosition:function(e){return{mouseX:e.clientX-this.gutterComponent.offsetX,mouseY:e.clientY-this.gutterComponent.offsetY}},getGutterSum:function(e,t,r){var i=0;if(this.isArrayContains(this.gutterSizes)){for(var n=0;n<e;n++)i+=0|this.gutterSizes[n].match(/-?[0-9]+\.?[0-9]*/g).pop();i+=(0|this.gutterSizes[e].match(/-?[0-9]+\.?[0-9]*/g).pop())/2}else{for(var s=0;s<e;s++)i+=0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop();i+=(0|this.gutterSize.match(/-?[0-9]+\.?[0-9]*/g).pop())/2}return i}}},__vue_script__=script,__vue_template__="undefined"!=typeof __vue_render__?{render:__vue_render__,staticRenderFns:__vue_staticRenderFns__}:{},__vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=void 0;function __vue_normalize__(e,t,r,i,n,s,_,a){var o=("function"==typeof r?r.options:r)||{};return o.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/mixins/gutter.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,n&&(o.functional=!0)),o._scopeId=i,o}function __vue_create_injector__(){var u=document.head||document.getElementsByTagName("head")[0],c=__vue_create_injector__.styles||(__vue_create_injector__.styles={}),d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var r=d?t.media||"default":e,i=c[r]||(c[r]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var n=t.source,s=i.ids.length;if(i.ids.push(e),d&&(i.element=i.element||document.querySelector("style[data-group="+r+"]")),!i.element){var _=i.element=document.createElement("style");_.type="text/css",t.media&&_.setAttribute("media",t.media),d&&(_.setAttribute("data-group",r),_.setAttribute("data-next-index","0")),u.appendChild(_)}if(d&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(n),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(n),o=i.element.childNodes;o[s]&&i.element.removeChild(o[s]),o.length?i.element.insertBefore(a,o[s]):i.element.appendChild(a)}}}}}var gutter=__vue_normalize__(__vue_template__,__vue_inject_styles__,void 0===script?{}:script,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,void 0!==__vue_create_injector__?__vue_create_injector__:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){}),script$1={name:"columnGutter",mixins:[gutter],props:{width:{type:String,required:!0,default:"500px"},height:{type:String,required:!0,default:"500px"},gutterSize:{type:String},gutterSizes:{type:Array},color:{type:String},colors:{type:Array},column:{type:Number,required:!0,default:2},columnSizes:{type:Array}},created:function(){if(this.isArrayContains(this.columnSizes)&&this.column!==this.columnSizes.length)throw console.error("Please column equal columnSizes.length\ncolumn: "+this.column+", columnSizes.length: "+this.columnSizes.length);if(this.isArrayContains(this.colors)&&this.column-1!==this.colors.length)throw console.error("Please (column - 1) equal colors.length\n(column - 1): "+(this.column-1)+", colors.length: "+this.colors.length)},methods:{divideArea:function(){this.isArrayContains(this.columnSizes)?this.specifyDivideArea(this.columnSizes):this.generalDivideArea()},drag:function(e,t){var r=this.getCurrentMousePosition(e).mouseX;this.draggingGutter(e,r,t,this.gutterComponent.width),this.$emit("resize",{col:this.areaSize})}}},__vue_script__$1=script$1,__vue_render__$1=function(){var r=this,e=r.$createElement,i=r._self._c||e;return i("section",{ref:"gutter",style:"width: "+r.width+"; height: "+r.height+";"},[i("div",{staticClass:"pane pane-v left",style:"width: calc("+r.areaSize[0]+"% - "+(r.gutterSize||r.gutterSizes[0])+");"},[r._t("col-0")],2),r._v(" "),r._l(r.column-1,function(t){return i("div",{key:t,staticClass:"afterCol",style:"width: calc("+r.areaSize[t]+"% - "+(r.gutterSize||r.gutterSizes[t-1])+");"},[i("div",{staticClass:"gutter gutter-v",style:"width: "+(r.gutterSize||r.gutterSizes[t-1])+"; height: "+r.height+"; background-color: "+(r.color||r.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){r.drag(e,t-1)},dragstart:function(e){r.dragstart(e,t-1)}}}),r._v(" "),t!==r.column-1?i("div",{staticClass:"pane pane-v",style:"width: calc(100% - "+(r.gutterSize||r.gutterSizes[t-1])},[r._t("col-"+t)],2):i("div",{staticClass:"pane pane-v",style:"width: calc(100%}"},[r._t("col-"+t)],2)])})],2)},__vue_staticRenderFns__$1=[];__vue_render__$1._withStripped=!0;var __vue_template__$1=void 0!==__vue_render__$1?{render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1}:{},__vue_inject_styles__$1=function(e){e&&e("data-v-2f5ba3b4_0",{source:"\n.pane-v[data-v-2f5ba3b4] {\n  float: left;\n  height: 100%;\n}\n.afterCol[data-v-2f5ba3b4] {\n  height: 100%;\n  display: inline-block;\n}\n.gutter[data-v-2f5ba3b4] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-2f5ba3b4] {\n  z-index: 1;\n}\n.gutter-v[data-v-2f5ba3b4] {\n  float: left;\n  width: 2px;\n  height: 100%;\n  cursor: ew-resize;\n}\n",map:void 0,media:void 0})},__vue_scope_id__$1="data-v-2f5ba3b4",__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1;function __vue_normalize__$1(e,t,r,i,n,s,_,a){var o=("function"==typeof r?r.options:r)||{};o.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/column-gutter.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,n&&(o.functional=!0)),o._scopeId=i;var u=void 0;if(t&&(u=function(e){t.call(this,_(e))}),void 0!==u)if(o.functional){var c=o.render;o.render=function(e,t){return u.call(t),c(e,t)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,u):[u]}return o}function __vue_create_injector__$1(){var u=document.head||document.getElementsByTagName("head")[0],c=__vue_create_injector__$1.styles||(__vue_create_injector__$1.styles={}),d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var r=d?t.media||"default":e,i=c[r]||(c[r]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var n=t.source,s=i.ids.length;if(i.ids.push(e),d&&(i.element=i.element||document.querySelector("style[data-group="+r+"]")),!i.element){var _=i.element=document.createElement("style");_.type="text/css",t.media&&_.setAttribute("media",t.media),d&&(_.setAttribute("data-group",r),_.setAttribute("data-next-index","0")),u.appendChild(_)}if(d&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(n),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(n),o=i.element.childNodes;o[s]&&i.element.removeChild(o[s]),o.length?i.element.insertBefore(a,o[s]):i.element.appendChild(a)}}}}}var columnGutter=__vue_normalize__$1(__vue_template__$1,__vue_inject_styles__$1,void 0===__vue_script__$1?{}:__vue_script__$1,__vue_scope_id__$1,__vue_is_functional_template__$1,__vue_module_identifier__$1,void 0!==__vue_create_injector__$1?__vue_create_injector__$1:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){}),script$2={name:"rowGutter",mixins:[gutter],props:{width:{type:String,required:!0,default:"500px"},height:{type:String,required:!0,default:"500px"},gutterSize:{type:String},gutterSizes:{type:Array},color:{type:String},colors:{type:Array},row:{type:Number,required:!0,default:2},rowSizes:{type:Array}},created:function(){if(this.isArrayContains(this.rowSizes)&&this.row!==this.rowSizes.length)throw console.error("Please row equal rowSizes.length\nrow: "+this.row+", rowSizes.length: "+this.rowSizes.length);if(this.isArrayContains(this.colors)&&this.row-1!==this.colors.length)throw console.error("Please (row - 1) equal colors.length\n(row - 1): "+(this.row-1)+", colors.length: "+this.colors.length)},methods:{divideArea:function(){this.isArrayContains(this.rowSizes)?this.specifyDivideArea(this.rowSizes):this.generalDivideArea()},drag:function(e,t){var r=this.getCurrentMousePosition(e).mouseY;this.draggingGutter(e,r,t,this.gutterComponent.height),this.$emit("resize",{row:this.areaSize})}}},__vue_script__$2=script$2,__vue_render__$2=function(){var r=this,e=r.$createElement,i=r._self._c||e;return i("section",{ref:"gutter",style:"width: "+r.width+"; height: "+r.height+";"},[i("div",{style:"height: calc("+r.areaSize[0]+"%);"},[r._t("row-0")],2),r._v(" "),r._l(r.row-1,function(t){return i("div",{key:t,style:"height: calc("+r.areaSize[t]+"% - "+(r.gutterSize||r.gutterSizes[t-1])+");"},[i("div",{staticClass:"gutter gutter-h",style:"height: "+(r.gutterSize||r.gutterSizes[t-1])+"; width: "+r.width+"; background-color: "+(r.color||r.colors[t-1])+";",attrs:{draggable:"true"},on:{drag:function(e){r.drag(e,t-1)},dragstart:function(e){r.dragstart(e,t-1)}}}),r._v(" "),t!==r.row-1?i("div",{staticClass:"pane pane-h",style:"height: calc(100% - "+(r.gutterSize||r.gutterSizes[t-1])+");"},[r._t("row-"+t)],2):i("div",{staticClass:"pane pane-h",style:"height: calc(100%});"},[r._t("row-"+t)],2)])})],2)},__vue_staticRenderFns__$2=[];__vue_render__$2._withStripped=!0;var __vue_template__$2=void 0!==__vue_render__$2?{render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2}:{},__vue_inject_styles__$2=function(e){e&&e("data-v-7a7a92d9_0",{source:"\n.pane[data-v-7a7a92d9] {\n  height: 100%;\n}\n.pane-v[data-v-7a7a92d9] {\n  float: left;\n}\n.gutter[data-v-7a7a92d9] {\n  background: #ccc;\n  overflow: hidden;\n  position: relative;\n}\n.active[data-v-7a7a92d9] {\n  z-index: 1;\n}\n.gutter-h[data-v-7a7a92d9] {\n  width: 100%;\n  height: 2px;\n  cursor: ns-resize;\n}\n",map:void 0,media:void 0})},__vue_scope_id__$2="data-v-7a7a92d9",__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;function __vue_normalize__$2(e,t,r,i,n,s,_,a){var o=("function"==typeof r?r.options:r)||{};o.__file="/Users/tobashunsuke/development/vue-gutter-resize/src/components/row-gutter.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,n&&(o.functional=!0)),o._scopeId=i;var u=void 0;if(t&&(u=function(e){t.call(this,_(e))}),void 0!==u)if(o.functional){var c=o.render;o.render=function(e,t){return u.call(t),c(e,t)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,u):[u]}return o}function __vue_create_injector__$2(){var u=document.head||document.getElementsByTagName("head")[0],c=__vue_create_injector__$2.styles||(__vue_create_injector__$2.styles={}),d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,t){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var r=d?t.media||"default":e,i=c[r]||(c[r]={ids:[],parts:[],element:void 0});if(!i.ids.includes(e)){var n=t.source,s=i.ids.length;if(i.ids.push(e),d&&(i.element=i.element||document.querySelector("style[data-group="+r+"]")),!i.element){var _=i.element=document.createElement("style");_.type="text/css",t.media&&_.setAttribute("media",t.media),d&&(_.setAttribute("data-group",r),_.setAttribute("data-next-index","0")),u.appendChild(_)}if(d&&(s=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",s+1)),i.element.styleSheet)i.parts.push(n),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var a=document.createTextNode(n),o=i.element.childNodes;o[s]&&i.element.removeChild(o[s]),o.length?i.element.insertBefore(a,o[s]):i.element.appendChild(a)}}}}}var rowGutter=__vue_normalize__$2(__vue_template__$2,__vue_inject_styles__$2,void 0===__vue_script__$2?{}:__vue_script__$2,__vue_scope_id__$2,__vue_is_functional_template__$2,__vue_module_identifier__$2,void 0!==__vue_create_injector__$2?__vue_create_injector__$2:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){}),Components={columnGutter:columnGutter,rowGutter:rowGutter};function install(t){Object.keys(Components).forEach(function(e){t.component(e,Components[e])})}var plugin={install:install};"undefined"!=typeof window&&window.Vue&&window.Vue.use(plugin),exports.columnGutter=columnGutter,exports.rowGutter=rowGutter,exports.default=plugin;
